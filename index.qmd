---
title: "Data Science for Public Policy"
subtitle: "Assignment 04"
author: 
  - name: "Caroline Atuhaire - ca975, Troy Cheng - yc1317"
    email: yc1317@georgetown.edu
    affiliation: Georgetown University
    corresponding: true
execute:
  warning: false
df-print: kable
title-block-banner: "#66c2a5"
title-block-banner-color: "white"
format:
  html:
    embed-resources: true
    toc: true
    toc-location: left
---
# 01 Data Source

[World Development Indicators](https://databank.worldbank.org/source/world-development-indicators) from World Bank

# 02 Set Up Packages

```{r}
# install.packages(c("readxl", "writexl")

library(readxl)
library(writexl)
library(tidyverse)

```

As the process of data cleaning was too complicated, we made it as an appendix. You can follow the code in **Appendix** and reproduce the cleaned data set we use here.


# 03 Research Question

Economic engagement goes beyond simply having a job. It depends on who is working, in which sectors, and under what conditions. While labor force participation reflects workforce involvement, sectoral shifts between agriculture, industry, and services reveal deeper economic transformations. This intrigues the question: how does economic engagement, *through labor force participation, sectoral shifts, and wage employment*, shape job stability and household consumption across different economies?

As economies move toward service-based employment, the question remains whether this shift creates stable, wage-paid jobs or perpetuates informal labor. Ultimately, for employment to drive economic stability, rising wage employment should lead to higher household consumption. This analysis examines these dynamics across China, Uganda, and the United States from 2001 to 2023, exploring whether economic growth translates into meaningful labor market improvements.


# 04 Data Story and Visualization


## Load Data

```{r}
data_available_clean <- read_excel("data/available_data.xlsx")

```

## Graph 1. Trends of Labor Force Participation Rate in Three Countries

Labor force participation serves as a fundamental indicator of economic engagement.

```{r}
ggplot(data_available_clean, aes(x = year, group = country_name, color = country_name, linetype = "solid")) +
  geom_line(aes(y = lfpr_total_15_64_milo), size = 1) +
  geom_point(aes(y = lfpr_total_15_64_milo), size = 2) +
  scale_x_continuous(breaks = seq(min(data_available_clean$year), max(data_available_clean$year), by = 2)) +
  labs(
    title = "Trends of Labor Force Participation Rate (2001-2023)",
    subtitle = "Comparing Workforce Engagement Across Countries",
    x = "Year", 
    y = "Labor Force Participation (%)",
    color = "Country",
    caption = "Source: The World Bank, World Development Indicators (2025)."
  ) +
  theme_minimal() +
  theme(
    text = element_text(family = "serif"),
    panel.grid = element_blank(),
    plot.title = element_text(size = 14, face = "bold"),  
    plot.subtitle = element_text(size = 12, face = "italic"),  
    axis.title.x = element_text(size = 12),  
    axis.title.y = element_text(size = 12),  
    axis.text.x = element_text(size = 12),  
    axis.text.y = element_text(size = 12),
    legend.position = "right",
    axis.line = element_line(color="black")
) +
  guides(linetype = "none")
```

As shown in the line graph, China's participation rate steadily decreases throughout the period, maintaining a consistent downward trajectory. Uganda exhibits extreme fluctuations, with sharp increases and declines, particularly after 2010, indicating significant variability in workforce engagement. The U.S. saw a decline until 2015, followed by a slight rebound in recent years. The United States shows a gradual decline in labor force participation until around 2016, followed by a slight upward trend. Overall, China and the U.S. exhibit a gradual decline, likely due to aging populations and economic shifts.

## Graph 2. The Structure of Labor Force Participation: Employment Structures Accross Different Sectors 

```{r}
data_available_clean |>
  mutate(total_employment = empl_agri + empl_industry + empl_services) |>
  pivot_longer(cols = c(empl_agri, empl_industry, empl_services),
               names_to = "sector",
               values_to = "employment_rate") |>
  mutate(employment_share = employment_rate / total_employment * 100) |>
  ggplot(aes(x = year, y = employment_share, fill = sector)) +
  geom_area(alpha = 0.75) + 
  facet_wrap(~ country_name) +
  labs(
    title = "Change of Sectoral Employment Structure (2001-2023)",
    subtitle = "Tracking the Shift in Employment Across Agriculture, Industry, and Services",
    x = "Year", y = "Employment Share (%)",
    fill = "Sector",
    caption = "Source: The World Bank, World Development Indicators (2025)."
  ) +
  scale_fill_manual(values = c("empl_agri" = "#66c2a5", 
                               "empl_industry" = "#fc8d62", 
                               "empl_services" = "#8da0cb"),
                    labels = c("Agriculture", "Industry", "Services")) + 
  scale_y_continuous(labels = scales::percent_format(scale = 1)) +
  theme_minimal() +
  theme(
    text = element_text(family = "serif"),
    panel.grid = element_blank(),
    plot.title = element_text(size = 14, face = "bold"),  
    plot.subtitle = element_text(size = 12, face = "italic"),  
    axis.title.x = element_text(size = 12),  
    axis.title.y = element_text(size = 12),    
    axis.text.x = element_text(size = 12),  
    axis.text.y = element_text(size = 12),
    legend.position = "bottom",
    axis.line = element_line(color = "black"),
    legend.key.width = unit(0.8,"cm")
)
```

Employment patterns reveal structural transformations in different economies. China's workforce is shifting away from agriculture, with a growing share of employment in industry and services, signifying industrialization. Uganda’s labor market remains heavily dependent on agriculture, with only slow growth in industry and services, indicating limited economic diversification and the characteristics of countries at the early-stage of industrialization. In contrast, the United States is dominated by the service sector, with minimal employment in agriculture and industry, reflecting the maturity of a developed economy and a pattern of post-industrialized country.


## Graph 3. The Relationship between Employment Rate in Service and Salaried Workers Employment Rate

As economies shift towards a service-oriented workforce, the question remains: does this growth lead to more stable, wage-paid jobs, or does informal and precarious employment persist?

```{r}

ggplot(data_available_clean, aes(x = empl_services, y = wage_workers_total, color = country_name)) +
  geom_point(size = 3, alpha = 0.7) + 
  geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "black") + 
  facet_wrap(~country_name, scales = "free") +
  labs(
    title = "As Employment in Services Increases, Salaried Workers Rate Rises",
    subtitle = "Relationship between Employment Rate in Service and Salaried Workers Employment Rate",
    x = "Employment in Services (% of Total Employment)", 
    y = "Salaried Workers (% of Total Employment)",
    color = "Country",
    caption = "Source: The World Bank, World Development Indicators (2025)."
  ) +
    theme_minimal() +
  theme(
    text = element_text(family = "serif"),
    panel.grid = element_blank(),
    plot.title = element_text(size = 14, face = "bold"),  
    plot.subtitle = element_text(size = 12, face = "italic"),  
    axis.title.x = element_text(size = 12),  
    axis.title.y = element_text(size = 12),  
    axis.text.x = element_text(size = 12),  
    axis.text.y = element_text(size = 12),
    legend.position = "bottom",
    axis.line = element_line(color = "black"),  
    legend.key.width = unit(0.75,"cm")
)

```


The scatter graph shows the relationship between employment in services and the share of salaried workers across China, Uganda, and the United States. In all three countries, a higher share of service employment correlates with a greater proportion of salaried workers, suggesting a shift toward more formal employment. China exhibits a strong positive trend, indicating that service sector growth aligns with stable wage jobs. Uganda shows more variability, suggesting that many service jobs remain informal. The United States has consistently high salaried employment, reinforcing the dominance of formal jobs in a service-driven economy.


## Graph 4. Comparing Salaried Workers Employment Rate and Household Consumption Growth Rate Over Time

Even if wage employment rises, its economic impact depends on whether higher job stability translates into increased household spending, reinforcing sustainable economic growth.

```{r}
data_available_clean |>  
  select(year, country_name, wage_workers_total, households_cons_growth) |>  
  pivot_longer(cols = c(wage_workers_total, households_cons_growth),
               names_to = "Metric",
               values_to = "Value") |>  
  mutate(Metric = recode(Metric,
                         "wage_workers_total" = "Salaried Workers (% of Total Employment)",
                         "households_cons_growth" = "Household Consumption Growth (%)")) |>  
  ggplot(aes(x = year, y = Value, fill = Metric)) +  
  geom_col(position = "dodge", alpha = 0.8) +
  facet_wrap(~country_name) +  
  scale_fill_manual(values = c("Salaried Workers (% of Total Employment)" = "lightblue",
                               "Household Consumption Growth (%)" = "gold")) +
  scale_x_continuous(breaks = seq(2001, 2023, by = 2)) +  
  labs(
    title = "Salaried Workers Employment vs. Household Consumption Growth (2001-2023)",
    subtitle = "Are Wage-Paid Jobs Driving Higher Household Consumption Growth Rate?",
    x = "Year",
    y = "Percentage (%)",
    fill = "Indicator",
    caption = "Source: The World Bank, World Development Indicators (2025)."
  ) +
  theme_minimal() +
  theme(
    text = element_text(family = "serif"),
    panel.grid = element_blank(),
    plot.title = element_text(size = 14, face = "bold"),  
    plot.subtitle = element_text(size = 12, face = "italic"),  
    axis.title.x = element_text(size = 12),  
    axis.title.y = element_text(size = 12),  
    axis.text.x = element_text(size = 10, angle = 45, hjust = 1),  
    axis.text.y = element_text(size = 12),
    legend.position = "bottom",
    axis.line = element_line(color = "black"),  
    legend.key.width = unit(0.8, "cm")
  )


```

This bar graph shows whether an increase in wage employment leads to higher household consumption growth rate across China, Uganda, and the United States. China shows a steady rise in wage employment, and household consumption growth remains moderate. Uganda's wage employment is lower and more volatile, with fluctuating consumption growth. The U.S. has consistently high wage employment, yet household consumption growth is relatively stable and low. This suggests that while wage employment may support economic stability, it does not necessarily drive rapid consumption growth in all economies.

# 05 Policy recommendation

Whereas employment in services increases wage workers, it may not necessarily lead to higher household consumption, as shown across the four graphs. In China and Uganda, rising service sector employment has not consistently translated into higher consumption, suggesting that low wages and job instability limit spending power. In contrast, the United States demonstrates that stable wage employment supports sustained consumption growth, highlighting the importance of job quality and fair wages. Therefore, policymakers should ensure wage growth aligns with productivity, strengthen labor protections, and implement policies that boost disposable income to drive household consumption and economic growth.


# Appendix A: Clean Data

## 01 Transfer the Data Format

```{r}
# Read Original File and Assign it to "data" 

data <- read_excel("data/0_OriginData_World_Development_Indicators.xlsx")

# Pivot longer to convert year columns into a "Year" column

data_long <- data |>
  pivot_longer(
    cols = starts_with("20"), 
    # Select all year columns (2001-2023)
    names_to = "Year",          
    # Move column names to "Year"
    values_to = "Value"
    # Store data values in "Value"
    )        

# Drop NAs contained by these cols

data_long <- data_long |>
  drop_na(`Country Name`, `Country Code`, `Series Code`, `Series Name`)

# Convert Year column to numeric

data_long$Year <- as.numeric(str_extract(data_long$Year, "\\d+"))

# Pivot wider to make Series Name values into separate columns

data_clean <- data_long |>
  select(-"Series Code") |>
  # delete the "Series Code" column
  pivot_wider(names_from = "Series Name", 
              values_from = "Value")

```

Here, we delete the "Series Code" column, because all the values in it have corresponding value in column "Series Name". If we don't delete it, all values of the variables would be misaligned and lots of blank rows when pivot_wider using "Series Name".

## 02 Save the Preliminary Data Set

```{r}
# Save the data as an Excel file

# write_xlsx(data_clean, "data/1_world_bank_data_clean.xlsx")

```

## 03 Select and Rename Data with Few NAs

After taking a glimpse of *world_bank_data_clean.xlsx*, we selected the variables with few NAs manually and renamed them in R.

*Click toggle to fold it*

```{r}
#| code-fold: show

# Define short names for selected variables
data_available <- data_clean |>
  select(
    country_name                = `Country Name`,
    country_code                = `Country Code`,
    year                        = `Year`,
    changes_inventories         = `Changes in inventories (constant LCU)`,
    cfw_female                  = `Contributing family workers, female (% of female employment) (modeled ILO estimate)`,
    cfw_male                    = `Contributing family workers, male (% of male employment) (modeled ILO estimate)`,
    cfw_total                   = `Contributing family workers, total (% of total employment) (modeled ILO estimate)`,
    employers_female            = `Employers, female (% of female employment) (modeled ILO estimate)`,
    employers_male              = `Employers, male (% of male employment) (modeled ILO estimate)`,
    employers_total             = `Employers, total (% of total employment) (modeled ILO estimate)`,
    empl_agri                 = `Employment in agriculture (% of total employment) (modeled ILO estimate)`,
    empl_agri_female          = `Employment in agriculture, female (% of female employment) (modeled ILO estimate)`,
    empl_agri_male            = `Employment in agriculture, male (% of male employment) (modeled ILO estimate)`,
    empl_industry             = `Employment in industry (% of total employment) (modeled ILO estimate)`,
    empl_industry_female      = `Employment in industry, female (% of female employment) (modeled ILO estimate)`,
    empl_industry_male        = `Employment in industry, male (% of male employment) (modeled ILO estimate)`,
    empl_services             = `Employment in services (% of total employment) (modeled ILO estimate)`,
    empl_services_female      = `Employment in services, female (% of female employment) (modeled ILO estimate)`,
    empl_services_male        = `Employment in services, male (% of male employment) (modeled ILO estimate)`,
    emp_pop_15plus_female_milo  = `Employment to population ratio, 15+, female (%) (modeled ILO estimate)`,
    emp_pop_15plus_female_nat   = `Employment to population ratio, 15+, female (%) (national estimate)`,
    emp_pop_15plus_male_milo    = `Employment to population ratio, 15+, male (%) (modeled ILO estimate)`,
    emp_pop_15plus_male_nat     = `Employment to population ratio, 15+, male (%) (national estimate)`,
    emp_pop_15plus_total_milo   = `Employment to population ratio, 15+, total (%) (modeled ILO estimate)`,
    emp_pop_15plus_total_nat    = `Employment to population ratio, 15+, total (%) (national estimate)`,
    emp_pop_15_24_female_milo   = `Employment to population ratio, ages 15-24, female (%) (modeled ILO estimate)`,
    emp_pop_15_24_female_nat    = `Employment to population ratio, ages 15-24, female (%) (national estimate)`,
    emp_pop_15_24_male_milo     = `Employment to population ratio, ages 15-24, male (%) (modeled ILO estimate)`,
    emp_pop_15_24_male_nat      = `Employment to population ratio, ages 15-24, male (%) (national estimate)`,
    emp_pop_15_24_total_milo    = `Employment to population ratio, ages 15-24, total (%) (modeled ILO estimate)`,
    emp_pop_15_24_total_nat     = `Employment to population ratio, ages 15-24, total (%) (national estimate)`,
    exports_growth              = `Exports of goods and services (annual % growth)`,
    exports_const               = `Exports of goods and services (constant LCU)`,
    final_cons_growth           = `Final consumption expenditure (annual % growth)`,
    final_cons_const            = `Final consumption expenditure (constant LCU)`,
    gdp_const                   = `GDP (constant LCU)`,
    gdp_growth                  = `GDP growth (annual %)`,
    gdp_percap_const            = `GDP per capita (constant LCU)`,
    gdp_percap_growth           = `GDP per capita growth (annual %)`,
    gdp_per_person_employed     = `GDP per person employed (constant 2021 PPP $)`,
    gov_final_cons_growth       = `General government final consumption expenditure (annual % growth)`,
    gov_final_cons_const        = `General government final consumption expenditure (constant LCU)`,
    gni_const                   = `GNI (constant LCU)`,
    gni_growth                  = `GNI growth (annual %)`,
    gni_percap_const            = `GNI per capita (constant LCU)`,
    gni_percap_growth           = `GNI per capita growth (annual %)`,
    gov_exp_edu_pct_gdp         = `Government expenditure on education, total (% of GDP)`,
    gov_exp_edu_pct_gov         = `Government expenditure on education, total (% of government expenditure)`,
    gross_capital_growth        = `Gross capital formation (annual % growth)`,
    gross_capital_const         = `Gross capital formation (constant LCU)`,
    gross_fixed_capital_growth  = `Gross fixed capital formation (annual % growth)`,
    gross_fixed_capital_const   = `Gross fixed capital formation (constant LCU)`,
    gross_national_expenditure  = `Gross national expenditure (constant LCU)`,
    households_cons_growth      = `Households and NPISHs Final consumption expenditure (annual % growth)`,
    households_cons_const       = `Households and NPISHs Final consumption expenditure (constant LCU)`,
    households_cons_percap_growth = `Households and NPISHs Final consumption expenditure per capita growth (annual %)`,
    imports_growth              = `Imports of goods and services (annual % growth)`,
    imports_const               = `Imports of goods and services (constant LCU)`,
    lfpr_15_24_female_milo      = `Labor force participation rate for ages 15-24, female (%) (modeled ILO estimate)`,
    lfpr_15_24_female_nat       = `Labor force participation rate for ages 15-24, female (%) (national estimate)`,
    lfpr_15_24_male_milo        = `Labor force participation rate for ages 15-24, male (%) (modeled ILO estimate)`,
    lfpr_15_24_male_nat         = `Labor force participation rate for ages 15-24, male (%) (national estimate)`,
    lfpr_15_24_total_milo       = `Labor force participation rate for ages 15-24, total (%) (modeled ILO estimate)`,
    lfpr_15_24_total_nat        = `Labor force participation rate for ages 15-24, total (%) (national estimate)`,
    lfpr_female_15plus_milo      = `Labor force participation rate, female (% of female population ages 15+) (modeled ILO estimate)`,
    lfpr_female_15plus_nat       = `Labor force participation rate, female (% of female population ages 15+) (national estimate)`,
    lfpr_female_15_64_milo       = `Labor force participation rate, female (% of female population ages 15-64) (modeled ILO estimate)`,
    lfpr_male_15plus_milo        = `Labor force participation rate, male (% of male population ages 15+) (modeled ILO estimate)`,
    lfpr_male_15plus_nat         = `Labor force participation rate, male (% of male population ages 15+) (national estimate)`,
    lfpr_male_15_64_milo         = `Labor force participation rate, male (% of male population ages 15-64) (modeled ILO estimate)`,
    lfpr_total_15plus_milo       = `Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)`,
    lfpr_total_15plus_nat        = `Labor force participation rate, total (% of total population ages 15+) (national estimate)`,
    lfpr_total_15_64_milo        = `Labor force participation rate, total (% of total population ages 15-64) (modeled ILO estimate)`,
    lf_adv_edu_total            = `Labor force with advanced education (% of total working-age population with advanced education)`,
    lf_adv_edu_female           = `Labor force with advanced education, female (% of female working-age population with advanced education)`,
    lf_adv_edu_male             = `Labor force with advanced education, male (% of male working-age population with advanced education)`,
    lf_basic_edu_total          = `Labor force with basic education (% of total working-age population with basic education)`,
    lf_basic_edu_female         = `Labor force with basic education, female (% of female working-age population with basic education)`,
    lf_basic_edu_male           = `Labor force with basic education, male (% of male working-age population with basic education)`,
    lf_intermediate_edu_total   = `Labor force with intermediate education (% of total working-age population with intermediate education)`,
    lf_intermediate_edu_female  = `Labor force with intermediate education, female (% of female working-age population with intermediate education)`,
    lf_intermediate_edu_male    = `Labor force with intermediate education, male (% of male working-age population with intermediate education)`,
    labor_female_pct            = `Labor force, female (% of total labor force)`,
    labor_total                 = `Labor force, total`,
    part_time_female            = `Part time employment, female (% of total female employment)`,
    part_time_male              = `Part time employment, male (% of total male employment)`,
    part_time_total             = `Part time employment, total (% of total employment)`,
    ratio_lfpr_female_male_milo = `Ratio of female to male labor force participation rate (%) (modeled ILO estimate)`,
    ratio_lfpr_female_male_nat  = `Ratio of female to male labor force participation rate (%) (national estimate)`,
    self_employed_female        = `Self-employed, female (% of female employment) (modeled ILO estimate)`,
    self_employed_male          = `Self-employed, male (% of male employment) (modeled ILO estimate)`,
    self_employed_total         = `Self-employed, total (% of total employment) (modeled ILO estimate)`,
    youth_not_in_edu_female     = `Share of youth not in education, employment or training, female (% of female youth population)`,
    youth_not_in_edu_male       = `Share of youth not in education, employment or training, male (% of male youth population)`,
    youth_not_in_edu_total      = `Share of youth not in education, employment or training, total (% of youth population)`,
    unemp_adv_edu_total         = `Unemployment with advanced education (% of total labor force with advanced education)`,
    unemp_adv_edu_female        = `Unemployment with advanced education, female (% of female labor force with advanced education)`,
    unemp_adv_edu_male          = `Unemployment with advanced education, male (% of male labor force with advanced education)`,
    unemp_basic_edu_total       = `Unemployment with basic education (% of total labor force with basic education)`,
    unemp_basic_edu_female      = `Unemployment with basic education, female (% of female labor force with basic education)`,
    unemp_basic_edu_male        = `Unemployment with basic education, male (% of male labor force with basic education)`,
    unemp_inter_edu_total       = `Unemployment with intermediate education (% of total labor force with intermediate education)`,
    unemp_inter_edu_female      = `Unemployment with intermediate education, female (% of female labor force with intermediate education)`,
    unemp_inter_edu_male        = `Unemployment with intermediate education, male (% of male labor force with intermediate education)`,
    unemp_female_milo           = `Unemployment, female (% of female labor force) (modeled ILO estimate)`,
    unemp_female_nat            = `Unemployment, female (% of female labor force) (national estimate)`,
    unemp_male_milo             = `Unemployment, male (% of male labor force) (modeled ILO estimate)`,
    unemp_male_nat              = `Unemployment, male (% of male labor force) (national estimate)`,
    unemp_total_milo            = `Unemployment, total (% of total labor force) (modeled ILO estimate)`,
    unemp_total_nat             = `Unemployment, total (% of total labor force) (national estimate)`,
    unemp_youth_female_milo     = `Unemployment, youth female (% of female labor force ages 15-24) (modeled ILO estimate)`,
    unemp_youth_female_nat      = `Unemployment, youth female (% of female labor force ages 15-24) (national estimate)`,
    unemp_youth_male_milo       = `Unemployment, youth male (% of male labor force ages 15-24) (modeled ILO estimate)`,
    unemp_youth_male_nat        = `Unemployment, youth male (% of male labor force ages 15-24) (national estimate)`,
    unemp_youth_total_milo      = `Unemployment, youth total (% of total labor force ages 15-24) (modeled ILO estimate)`,
    unemp_youth_total_nat       = `Unemployment, youth total (% of total labor force ages 15-24) (national estimate)`,
    vulnerable_emp_female       = `Vulnerable employment, female (% of female employment) (modeled ILO estimate)`,
    vulnerable_emp_male         = `Vulnerable employment, male (% of male employment) (modeled ILO estimate)`,
    vulnerable_emp_total        = `Vulnerable employment, total (% of total employment) (modeled ILO estimate)`,
    wage_workers_female         = `Wage and salaried workers, female (% of female employment) (modeled ILO estimate)`,
    wage_workers_male           = `Wage and salaried workers, male (% of male employment) (modeled ILO estimate)`,
    wage_workers_total          = `Wage and salaried workers, total (% of total employment) (modeled ILO estimate)`
  )

```

Now, if we use **glimpse(data_available)** to see our new dataset, we'll find that all variables that should be numeric are strings. So next step, we need adjust our variables' data type.

## 04 Adjust the Data Type and Save Final Data Set

```{r}
# Mutate the chr into numeric

data_available_clean <- data_available |> 
  mutate(across(-c(country_name, country_code, year), as.numeric))
  # cut out the first three columns and transfer the rest


# Save final data set as Excel file to analyze

# write_xlsx(data_available_clean, "data/available_data.xlsx")


```

## 05 Create and Save a Codebook File for Our Data

*Click toggle to fold it*

```{r}
#| code-fold: show

codebook <- tribble(
  ~new_variable,                    ~original_variable,                                                    
  "country_name",                   "Country Name",
  "country_code",                   "Country Code",
  "year",                           "Year",
  "changes_inventories",            "Changes in inventories (constant LCU)",
  "cfw_female",                     "Contributing family workers, female (% of female employment) (modeled ILO estimate)",
  "cfw_male",                       "Contributing family workers, male (% of male employment) (modeled ILO estimate)",
  "cfw_total",                      "Contributing family workers, total (% of total employment) (modeled ILO estimate)",
  "employers_female",               "Employers, female (% of female employment) (modeled ILO estimate)",
  "employers_male",                 "Employers, male (% of male employment) (modeled ILO estimate)",
  "employers_total",                "Employers, total (% of total employment) (modeled ILO estimate)",
  "empl_agri",                      "Employment in agriculture (% of total employment) (modeled ILO estimate)",
  "empl_agri_female",               "Employment in agriculture, female (% of female employment) (modeled ILO estimate)",
  "empl_agri_male",                 "Employment in agriculture, male (% of male employment) (modeled ILO estimate)",
  "empl_industry",                  "Employment in industry (% of total employment) (modeled ILO estimate)",
  "empl_industry_female",           "Employment in industry, female (% of female employment) (modeled ILO estimate)",
  "empl_industry_male",             "Employment in industry, male (% of male employment) (modeled ILO estimate)",
  "empl_services",                  "Employment in services (% of total employment) (modeled ILO estimate)",
  "empl_services_female",           "Employment in services, female (% of female employment) (modeled ILO estimate)",
  "empl_services_male",             "Employment in services, male (% of male employment) (modeled ILO estimate)",
  "emp_pop_15plus_female_milo",     "Employment to population ratio, 15+, female (%) (modeled ILO estimate)",
  "emp_pop_15plus_female_nat",      "Employment to population ratio, 15+, female (%) (national estimate)",
  "emp_pop_15plus_male_milo",       "Employment to population ratio, 15+, male (%) (modeled ILO estimate)",
  "emp_pop_15plus_male_nat",        "Employment to population ratio, 15+, male (%) (national estimate)",
  "emp_pop_15plus_total_milo",      "Employment to population ratio, 15+, total (%) (modeled ILO estimate)",
  "emp_pop_15plus_total_nat",       "Employment to population ratio, 15+, total (%) (national estimate)",
  "emp_pop_15_24_female_milo",      "Employment to population ratio, ages 15-24, female (%) (modeled ILO estimate)",
  "emp_pop_15_24_female_nat",       "Employment to population ratio, ages 15-24, female (%) (national estimate)",
  "emp_pop_15_24_male_milo",        "Employment to population ratio, ages 15-24, male (%) (modeled ILO estimate)",
  "emp_pop_15_24_male_nat",         "Employment to population ratio, ages 15-24, male (%) (national estimate)",
  "emp_pop_15_24_total_milo",       "Employment to population ratio, ages 15-24, total (%) (modeled ILO estimate)",
  "emp_pop_15_24_total_nat",        "Employment to population ratio, ages 15-24, total (%) (national estimate)",
  "exports_growth",                 "Exports of goods and services (annual % growth)",
  "exports_const",                  "Exports of goods and services (constant LCU)",
  "final_cons_growth",              "Final consumption expenditure (annual % growth)",
  "final_cons_const",               "Final consumption expenditure (constant LCU)",
  "gdp_const",                      "GDP (constant LCU)",
  "gdp_growth",                     "GDP growth (annual %)",
  "gdp_percap_const",               "GDP per capita (constant LCU)",
  "gdp_percap_growth",              "GDP per capita growth (annual %)",
  "gdp_per_person_employed",        "GDP per person employed (constant 2021 PPP $)",
  "gov_final_cons_growth",          "General government final consumption expenditure (annual % growth)",
  "gov_final_cons_const",           "General government final consumption expenditure (constant LCU)",
  "gni_const",                      "GNI (constant LCU)",
  "gni_growth",                     "GNI growth (annual %)",
  "gni_percap_const",               "GNI per capita (constant LCU)",
  "gni_percap_growth",              "GNI per capita growth (annual %)",
  "gov_exp_edu_pct_gdp",            "Government expenditure on education, total (% of GDP)",
  "gov_exp_edu_pct_gov",            "Government expenditure on education, total (% of government expenditure)",
  "gross_capital_growth",           "Gross capital formation (annual % growth)",
  "gross_capital_const",            "Gross capital formation (constant LCU)",
  "gross_fixed_capital_growth",     "Gross fixed capital formation (annual % growth)",
  "gross_fixed_capital_const",      "Gross fixed capital formation (constant LCU)",
  "gross_national_expenditure",     "Gross national expenditure (constant LCU)",
  "households_cons_growth",         "Households and NPISHs Final consumption expenditure (annual % growth)",
  "households_cons_const",          "Households and NPISHs Final consumption expenditure (constant LCU)",
  "households_cons_percap_growth",  "Households and NPISHs Final consumption expenditure per capita growth (annual %)",
  "imports_growth",                 "Imports of goods and services (annual % growth)",
  "imports_const",                  "Imports of goods and services (constant LCU)",
  "lfpr_15_24_female_milo",         "Labor force participation rate for ages 15-24, female (%) (modeled ILO estimate)",
  "lfpr_15_24_female_nat",          "Labor force participation rate for ages 15-24, female (%) (national estimate)",
  "lfpr_15_24_male_milo",           "Labor force participation rate for ages 15-24, male (%) (modeled ILO estimate)",
  "lfpr_15_24_male_nat",            "Labor force participation rate for ages 15-24, male (%) (national estimate)",
  "lfpr_15_24_total_milo",          "Labor force participation rate for ages 15-24, total (%) (modeled ILO estimate)",
  "lfpr_15_24_total_nat",           "Labor force participation rate for ages 15-24, total (%) (national estimate)",
  "lfpr_female_15plus_milo",        "Labor force participation rate, female (% of female population ages 15+) (modeled ILO estimate)",
  "lfpr_female_15plus_nat",         "Labor force participation rate, female (% of female population ages 15+) (national estimate)",
  "lfpr_female_15_64_milo",         "Labor force participation rate, female (% of female population ages 15-64) (modeled ILO estimate)",
  "lfpr_male_15plus_milo",          "Labor force participation rate, male (% of male population ages 15+) (modeled ILO estimate)",
  "lfpr_male_15plus_nat",           "Labor force participation rate, male (% of male population ages 15+) (national estimate)",
  "lfpr_male_15_64_milo",           "Labor force participation rate, male (% of male population ages 15-64) (modeled ILO estimate)",
  "lfpr_total_15plus_milo",         "Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)",
  "lfpr_total_15plus_nat",          "Labor force participation rate, total (% of total population ages 15+) (national estimate)",
  "lfpr_total_15_64_milo",          "Labor force participation rate, total (% of total population ages 15-64) (modeled ILO estimate)",
  "lf_adv_edu_total",               "Labor force with advanced education (% of total working-age population with advanced education)",
  "lf_adv_edu_female",              "Labor force with advanced education, female (% of female working-age population with advanced education)",
  "lf_adv_edu_male",                "Labor force with advanced education, male (% of male working-age population with advanced education)",
  "lf_basic_edu_total",             "Labor force with basic education (% of total working-age population with basic education)",
  "lf_basic_edu_female",            "Labor force with basic education, female (% of female working-age population with basic education)",
  "lf_basic_edu_male",              "Labor force with basic education, male (% of male working-age population with basic education)",
  "lf_intermediate_edu_total",      "Labor force with intermediate education (% of total working-age population with intermediate education)",
  "lf_intermediate_edu_female",     "Labor force with intermediate education, female (% of female working-age population with intermediate education)",
  "lf_intermediate_edu_male",       "Labor force with intermediate education, male (% of male working-age population with intermediate education)",
  "labor_female_pct",               "Labor force, female (% of total labor force)",
  "labor_total",                    "Labor force, total",
  "part_time_female",               "Part time employment, female (% of total female employment)",
  "part_time_male",                 "Part time employment, male (% of total male employment)",
  "part_time_total",                "Part time employment, total (% of total employment)",
  "ratio_lfpr_female_male_milo",     "Ratio of female to male labor force participation rate (%) (modeled ILO estimate)",
  "ratio_lfpr_female_male_nat",      "Ratio of female to male labor force participation rate (%) (national estimate)",
  "self_employed_female",           "Self-employed, female (% of female employment) (modeled ILO estimate)",
  "self_employed_male",             "Self-employed, male (% of male employment) (modeled ILO estimate)",
  "self_employed_total",            "Self-employed, total (% of total employment) (modeled ILO estimate)",
  "youth_not_in_edu_female",        "Share of youth not in education, employment or training, female (% of female youth population)",
  "youth_not_in_edu_male",          "Share of youth not in education, employment or training, male (% of male youth population)",
  "youth_not_in_edu_total",         "Share of youth not in education, employment or training, total (% of youth population)",
  "unemp_adv_edu_total",            "Unemployment with advanced education (% of total labor force with advanced education)",
  "unemp_adv_edu_female",           "Unemployment with advanced education, female (% of female labor force with advanced education)",
  "unemp_adv_edu_male",             "Unemployment with advanced education, male (% of male labor force with advanced education)",
  "unemp_basic_edu_total",          "Unemployment with basic education (% of total labor force with basic education)",
  "unemp_basic_edu_female",         "Unemployment with basic education, female (% of female labor force with basic education)",
  "unemp_basic_edu_male",           "Unemployment with basic education, male (% of male labor force with basic education)",
  "unemp_inter_edu_total",          "Unemployment with intermediate education (% of total labor force with intermediate education)",
  "unemp_inter_edu_female",         "Unemployment with intermediate education, female (% of female labor force with intermediate education)",
  "unemp_inter_edu_male",           "Unemployment with intermediate education, male (% of male labor force with intermediate education)",
  "unemp_female_milo",              "Unemployment, female (% of female labor force) (modeled ILO estimate)",
  "unemp_female_nat",               "Unemployment, female (% of female labor force) (national estimate)",
  "unemp_male_milo",                "Unemployment, male (% of male labor force) (modeled ILO estimate)",
  "unemp_male_nat",                 "Unemployment, male (% of male labor force) (national estimate)",
  "unemp_total_milo",               "Unemployment, total (% of total labor force) (modeled ILO estimate)",
  "unemp_total_nat",                "Unemployment, total (% of total labor force) (national estimate)",
  "unemp_youth_female_milo",        "Unemployment, youth female (% of female labor force ages 15-24) (modeled ILO estimate)",
  "unemp_youth_female_nat",         "Unemployment, youth female (% of female labor force ages 15-24) (national estimate)",
  "unemp_youth_male_milo",          "Unemployment, youth male (% of male labor force ages 15-24) (modeled ILO estimate)",
  "unemp_youth_male_nat",           "Unemployment, youth male (% of male labor force ages 15-24) (national estimate)",
  "unemp_youth_total_milo",         "Unemployment, youth total (% of total labor force ages 15-24) (modeled ILO estimate)",
  "unemp_youth_total_nat",          "Unemployment, youth total (% of total labor force ages 15-24) (national estimate)",
  "vulnerable_emp_female",          "Vulnerable employment, female (% of female employment) (modeled ILO estimate)",
  "vulnerable_emp_male",            "Vulnerable employment, male (% of male employment) (modeled ILO estimate)",
  "vulnerable_emp_total",           "Vulnerable employment, total (% of total employment) (modeled ILO estimate)",
  "wage_workers_female",            "Wage and salaried workers, female (% of female employment) (modeled ILO estimate)",
  "wage_workers_male",              "Wage and salaried workers, male (% of male employment) (modeled ILO estimate)",
  "wage_workers_total",             "Wage and salaried workers, total (% of total employment) (modeled ILO estimate)",
)


# Write the updated codebook to an Excel file

# write_xlsx(codebook, "data/3_codebook_availabledata.xlsx")

```

Up to this step, we have the most important three files we need for data analysis —— *available_data.xlsx*, *2_Metadata_World_Development_Indicators.xlsx* and *3_codebook_availabledata.xlsx*. Go back to the **Research Question** part and finish data visualization and analysis.

# Appendix B: Variables Description

**empl_agri**: *Employment is defined as persons of working age who were engaged in any activity to produce goods or provide services for pay or profit, whether at work during the reference period or not at work due to temporary absence from a job, or to working-time arrangement. The agriculture sector consists of activities in agriculture, hunting, forestry and fishing, in accordance with division 1 (ISIC 2) or categories A-B (ISIC 3) or category A (ISIC 4).*

**empl_industry**: *Employment is defined as persons of working age who were engaged in any activity to produce goods or provide services for pay or profit, whether at work during the reference period or not at work due to temporary absence from a job, or to working-time arrangement. The industry sector consists of mining and quarrying, manufacturing, construction, and public utilities (electricity, gas, and water), in accordance with divisions 2-5 (ISIC 2) or categories C-F (ISIC 3) or categories B-F (ISIC 4).*

**empl_services**: *Employment is defined as persons of working age who were engaged in any activity to produce goods or provide services for pay or profit, whether at work during the reference period or not at work due to temporary absence from a job, or to working-time arrangement. The services sector consists of wholesale and retail trade and restaurants and hotels; transport, storage, and communications; financing, insurance, real estate, and business services; and community, social, and personal services, in accordance with divisions 6-9 (ISIC 2) or categories G-Q (ISIC 3) or categories G-U (ISIC 4).*

**lfpr_total_15_64_milo**: *the proportion of the population ages 15-64 that is economically active (people who supply labor for the production of goods and services during a specified period)*

**households_cons_growth**: *Annual percentage growth of household and NPISHs final consumption expenditure based on constant local currency. Aggregates are based on constant 2015 prices, expressed in U.S. dollars. Household and NPISHs final consumption expenditure (formerly private consumption) is the market value of all goods and services, including durable products (such as cars, washing machines, and home computers), purchased by households. It excludes purchases of dwellings but includes imputed rent for owner-occupied dwellings. It also includes payments and fees to governments to obtain permits and licenses. This indicator includes the expenditures of nonprofit institutions serving households even when reported separately by the country.*

**wage_workers_total**: *Wage and salaried workers (employees) are those workers who hold the type of jobs defined as "paid employment jobs," where the incumbents hold explicit (written or oral) or implicit employment contracts that give them a basic remuneration that is not directly dependent upon the revenue of the unit for which they work.*
